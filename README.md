# üöÄ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–µ—Ä —Ç–æ–≤–∞—Ä–æ–≤ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤

Python-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Å–∞–π—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö JavaScript –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è Amazon —Å –æ–±—Ö–æ–¥–æ–º –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏](#-–¥–µ—Ç–∞–ª—å–Ω—ã–µ-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel](#-—ç–∫—Å–ø–æ—Ä—Ç-–≤-excel)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ –¥—Ä—É–≥–∏–µ —Å–∞–π—Ç—ã](#-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø–æ–¥-–¥—Ä—É–≥–∏–µ-—Å–∞–π—Ç—ã)
- [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)
- [API Reference](#-api-reference)

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd pyton_parser
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate     # Windows
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤ Playwright

```bash
playwright install
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–æ—Å—Ç–æ–π –ø–∞—Ä—Å–∏–Ω–≥

```bash
python product_parser.py
```

### –ü–∞—Ä—Å–∏–Ω–≥ Amazon

```bash
python amazon_advanced.py
```

### –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel

```bash
python quick_export.py
```

## üìñ –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### 1. –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥

```python
from product_parser import parse_products

# –ü–∞—Ä—Å–∏–º —Ç–æ–≤–∞—Ä—ã —Å –ª—é–±–æ–≥–æ —Å–∞–π—Ç–∞
products = parse_products("https://your-site.com/products")
print(products)
```

#### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥

```python
import asyncio
from product_parser import ProductParser

async def main():
    async with ProductParser() as parser:
        products = await parser.parse("https://your-site.com/products")
        print(products)

asyncio.run(main())
```

### 2. –ü–∞—Ä—Å–∏–Ω–≥ Amazon

#### –ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±

```python
from amazon_advanced import AdvancedAmazonParser
import asyncio

async def main():
    async with AdvancedAmazonParser(headless=True) as parser:
        products = await parser.parse("https://www.amazon.com/s?k=shoes")
        print(products)

asyncio.run(main())
```

#### –° –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

```python
from amazon_advanced import AdvancedAmazonParser
import asyncio

async def main():
    # –í–∏–¥–∏–º—ã–π –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    async with AdvancedAmazonParser(headless=False, timeout=60000) as parser:
        products = await parser.parse("https://www.amazon.com/s?k=sneakers")

        for product in products:
            print(f"ID: {product['id']}")
            print(f"–ù–∞–∑–≤–∞–Ω–∏–µ: {product['name']}")
            print(f"–¶–µ–Ω–∞: {product['price']}")
            print("-" * 50)

asyncio.run(main())
```

### 3. –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel

#### –ë—ã—Å—Ç—Ä—ã–π —ç–∫—Å–ø–æ—Ä—Ç

```python
from export_improved import parse_and_export_improved
import asyncio

async def main():
    filename = await parse_and_export_improved(
        url="https://www.amazon.com/s?k=shoes",
        filename="my_products.xlsx"
    )
    print(f"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª: {filename}")

asyncio.run(main())
```

#### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç

```python
from export_to_excel import parse_multiple_urls
import asyncio

async def main():
    urls = [
        "https://www.amazon.com/s?k=shoes",
        "https://www.amazon.com/s?k=sneakers",
        "https://www.amazon.com/s?k=boots"
    ]

    filename = await parse_multiple_urls(urls, "all_products.xlsx")
    print(f"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª: {filename}")

asyncio.run(main())
```

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ü–∞—Ä—Å–∏–Ω–≥ —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π Amazon

```python
import asyncio
from amazon_advanced import AdvancedAmazonParser

async def parse_categories():
    categories = [
        "https://www.amazon.com/s?k=shoes",
        "https://www.amazon.com/s?k=sneakers",
        "https://www.amazon.com/s?k=boots",
        "https://www.amazon.com/s?k=sandals"
    ]

    async with AdvancedAmazonParser(headless=True) as parser:
        for category in categories:
            print(f"–ü–∞—Ä—Å–∏–º: {category}")
            products = await parser.parse(category)
            print(f"–ù–∞–π–¥–µ–Ω–æ: {len(products)} —Ç–æ–≤–∞—Ä–æ–≤")
            print()

asyncio.run(parse_categories())
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–∞–π—Ç

```python
from product_parser import ProductParser

class MySiteParser(ProductParser):
    async def _wait_for_content(self, page):
        """–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞"""
        await page.wait_for_selector('.product-item', timeout=10000)
        return True

    async def _extract_product_data(self, element, page, index):
        """–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞"""
        # ID —Ç–æ–≤–∞—Ä–∞
        product_id = await element.get_attribute('data-id')
        if not product_id:
            product_id = str(index + 1)

        # –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
        name_element = await element.query_selector('.product-title')
        name = await name_element.inner_text() if name_element else f"–¢–æ–≤–∞—Ä {product_id}"

        # –¶–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞
        price_element = await element.query_selector('.product-price')
        price = await price_element.inner_text() if price_element else "–¶–µ–Ω–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞"

        return {
            "id": product_id,
            "name": name.strip(),
            "price": price.strip()
        }

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async def main():
    async with MySiteParser() as parser:
        products = await parser.parse("https://your-site.com/products")
        print(products)

asyncio.run(main())
```

### 3. –ü–∞—Ä—Å–∏–Ω–≥ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫

```python
import asyncio
import logging
from product_parser import ProductParser

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(level=logging.INFO)

async def robust_parsing():
    urls = [
        "https://www.amazon.com/s?k=shoes",
        "https://example-shop.com/products",
        "https://another-site.com/catalog"
    ]

    async with ProductParser(headless=True) as parser:
        for url in urls:
            try:
                print(f"–ü–∞—Ä—Å–∏–º: {url}")
                products = await parser.parse(url)

                if products:
                    print(f"‚úÖ –£—Å–ø–µ—à–Ω–æ: {len(products)} —Ç–æ–≤–∞—Ä–æ–≤")
                    for product in products[:3]:  # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–µ 3
                        print(f"  - {product['name'][:50]}... - {product['price']}")
                else:
                    print("‚ùå –¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã")

            except Exception as e:
                print(f"‚ùå –û—à–∏–±–∫–∞: {e}")

            print("-" * 50)

asyncio.run(robust_parsing())
```

## üìä –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel

### 1. –ü—Ä–æ—Å—Ç–æ–π —ç–∫—Å–ø–æ—Ä—Ç

```bash
python quick_export.py
```

### 2. –£–ª—É—á—à–µ–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```bash
python export_improved.py
```

### 3. –ü–æ–ª–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

```bash
python export_to_excel.py
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–¥–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞

```bash
python final_report.py
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Excel —Ñ–∞–π–ª–æ–≤

#### –õ–∏—Å—Ç—ã:

- **"–¢–æ–≤–∞—Ä—ã Amazon"** - –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏
- **"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
- **"–ü—Ä–∏–º–µ—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤"** - –ø–µ—Ä–≤—ã–µ 5 —Ç–æ–≤–∞—Ä–æ–≤

#### –ö–æ–ª–æ–Ω–∫–∏:

- **‚Ññ** - –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä
- **ID —Ç–æ–≤–∞—Ä–∞** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (ASIN –¥–ª—è Amazon)
- **–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞** - –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
- **–¶–µ–Ω–∞** - —Ü–µ–Ω–∞ –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö
- **–î–∞—Ç–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞** - –∫–æ–≥–¥–∞ –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥
- **URL –∏—Å—Ç–æ—á–Ω–∏–∫–∞** - –æ—Ç–∫—É–¥–∞ –≤–∑—è—Ç—ã –¥–∞–Ω–Ω—ã–µ

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ –¥—Ä—É–≥–∏–µ —Å–∞–π—Ç—ã

### 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤

–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–∞–π—Ç –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å:

#### –°–µ–ª–µ–∫—Ç–æ—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤:

```python
product_selectors = [
    '.product-item',      # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ç–æ–≤–∞—Ä–∞
    '.product-card',      # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
    '[data-product-id]',  # –ü–æ data-–∞—Ç—Ä–∏–±—É—Ç—É
    '.item'               # –ü—Ä–æ—Å—Ç–æ–π –∫–ª–∞—Å—Å
]
```

#### –°–µ–ª–µ–∫—Ç–æ—Ä—ã –Ω–∞–∑–≤–∞–Ω–∏–π:

```python
name_selectors = [
    '.product-title',     # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ–ª–µ–∫—Ç–æ—Ä
    'h2 a',              # –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å —Å—Å—ã–ª–∫–æ–π
    '.item-name',        # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π
    '[data-title]'       # –ü–æ data-–∞—Ç—Ä–∏–±—É—Ç—É
]
```

#### –°–µ–ª–µ–∫—Ç–æ—Ä—ã —Ü–µ–Ω:

```python
price_selectors = [
    '.price',            # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ–ª–µ–∫—Ç–æ—Ä
    '.cost',             # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π
    '.amount',           # –ï—â–µ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç
    '[data-price]'       # –ü–æ data-–∞—Ç—Ä–∏–±—É—Ç—É
]
```

### 2. –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```python
from product_parser import ProductParser

class CustomSiteParser(ProductParser):
    async def _wait_for_content(self, page):
        """–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤"""
        selectors = [
            '.product-item',      # –í–∞—à —Å–µ–ª–µ–∫—Ç–æ—Ä —Ç–æ–≤–∞—Ä–æ–≤
            '.product-card',      # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π
            '[data-product]'      # –ü–æ data-–∞—Ç—Ä–∏–±—É—Ç—É
        ]

        for selector in selectors:
            try:
                await page.wait_for_selector(selector, timeout=5000)
                return True
            except:
                continue

        return False

    async def _extract_product_data(self, element, page, index):
        """–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞"""
        # ID —Ç–æ–≤–∞—Ä–∞
        product_id = await element.get_attribute('data-id')
        if not product_id:
            product_id = str(index + 1)

        # –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
        name = await self._extract_text_by_selectors(element, [
            '.product-title',
            'h2 a',
            '.item-name'
        ])

        # –¶–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞
        price = await self._extract_text_by_selectors(element, [
            '.price',
            '.cost',
            '.amount'
        ])

        return {
            "id": product_id,
            "name": name or f"–¢–æ–≤–∞—Ä {product_id}",
            "price": self._extract_price(price) if price else "–¶–µ–Ω–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞"
        }
```

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### 1. Amazon –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

**–ü—Ä–æ–±–ª–µ–º–∞**: Amazon –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç CAPTCHA –∏–ª–∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

**–†–µ—à–µ–Ω–∏—è**:

```python
# 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∏–¥–∏–º—ã–π –±—Ä–∞—É–∑–µ—Ä
async with AdvancedAmazonParser(headless=False) as parser:
    products = await parser.parse(url)

# 2. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏
import asyncio
await asyncio.sleep(random.uniform(2, 5))

# 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–∫—Å–∏ –≤ AdvancedAmazonParser

# 4. –†–æ—Ç–∏—Ä—É–π—Ç–µ User-Agent
user_agents = [
    'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',
    'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36'
]
```

### 2. –¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–∞—Ä—Å–µ—Ä –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ç–æ–≤–∞—Ä—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–†–µ—à–µ–Ω–∏—è**:

```python
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –≤–∏–¥–∏–º—ã–º –±—Ä–∞—É–∑–µ—Ä–æ–º –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
async with ProductParser(headless=False) as parser:
    products = await parser.parse(url)

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
# –û—Ç–∫—Ä–æ–π—Ç–µ DevTools –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –Ω–∞–π–¥–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã

# 3. –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç
async with ProductParser(timeout=60000) as parser:
    products = await parser.parse(url)

# 4. –î–æ–±–∞–≤—å—Ç–µ –æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
await page.wait_for_load_state('networkidle')
```

### 3. –û—à–∏–±–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–†–µ—à–µ–Ω–∏—è**:

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç–µ pip
pip install --upgrade pip

# 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä—ã
playwright install

# 4. –î–ª—è macOS —Å Homebrew
brew install python3
```

### 4. –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–∞—Ä—Å–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ

**–†–µ—à–µ–Ω–∏—è**:

```python
# 1. –ë–ª–æ–∫–∏—Ä—É–π—Ç–µ –Ω–µ–Ω—É–∂–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
await page.route("**/*.{png,jpg,jpeg,gif,svg}", lambda route: route.abort())

# 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ headless —Ä–µ–∂–∏–º
async with ProductParser(headless=True) as parser:
    products = await parser.parse(url)

# 3. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤
products = products[:10]  # –¢–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 10
```

## üìö API Reference

### ProductParser

#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```python
ProductParser(headless: bool = True, timeout: int = 30000)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:

- `headless` - –ó–∞–ø—É—Å–∫–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
- `timeout` - –¢–∞–π–º–∞—É—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö

#### –ú–µ—Ç–æ–¥—ã

##### parse(url: str) -> List[Dict[str, str]]

–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:

- `url` - URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ç–æ–≤–∞—Ä–∞–º–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**:

- –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π —Å –¥–∞–Ω–Ω—ã–º–∏ —Ç–æ–≤–∞—Ä–æ–≤

**–ü—Ä–∏–º–µ—Ä**:

```python
async with ProductParser() as parser:
    products = await parser.parse("https://example.com/products")
```

### AdvancedAmazonParser

#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```python
AdvancedAmazonParser(headless: bool = False, timeout: int = 60000)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:

- `headless` - –ó–∞–ø—É—Å–∫–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
- `timeout` - –¢–∞–π–º–∞—É—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö

#### –ú–µ—Ç–æ–¥—ã

##### parse(url: str) -> List[Dict[str, str]]

–ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤ Amazon —Å –æ–±—Ö–æ–¥–æ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:

- `url` - URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã Amazon —Å —Ç–æ–≤–∞—Ä–∞–º–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**:

- –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π —Å –¥–∞–Ω–Ω—ã–º–∏ —Ç–æ–≤–∞—Ä–æ–≤

**–ü—Ä–∏–º–µ—Ä**:

```python
async with AdvancedAmazonParser() as parser:
    products = await parser.parse("https://www.amazon.com/s?k=shoes")
```

### –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### parse_products(url: str, headless: bool = True) -> List[Dict[str, str]]

–°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:

- `url` - URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ç–æ–≤–∞—Ä–∞–º–∏
- `headless` - –ó–∞–ø—É—Å–∫–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**:

- –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π —Å –¥–∞–Ω–Ω—ã–º–∏ —Ç–æ–≤–∞—Ä–æ–≤

**–ü—Ä–∏–º–µ—Ä**:

```python
from product_parser import parse_products

products = parse_products("https://example.com/products")
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
pyton_parser/
‚îú‚îÄ‚îÄ product_parser.py          # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –ø–∞—Ä—Å–µ—Ä–∞
‚îú‚îÄ‚îÄ amazon_advanced.py         # –ü–∞—Ä—Å–µ—Ä –¥–ª—è Amazon
‚îú‚îÄ‚îÄ export_to_excel.py         # –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel
‚îú‚îÄ‚îÄ export_improved.py         # –£–ª—É—á—à–µ–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç
‚îú‚îÄ‚îÄ quick_export.py            # –ë—ã—Å—Ç—Ä—ã–π —ç–∫—Å–ø–æ—Ä—Ç
‚îú‚îÄ‚îÄ final_report.py            # –°–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç
‚îú‚îÄ‚îÄ example_usage.py           # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ demo_usage.py              # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ working_example.py         # –†–∞–±–æ—á–∏–µ –ø—Ä–∏–º–µ—Ä—ã
‚îú‚îÄ‚îÄ test_amazon.py             # –¢–µ—Å—Ç—ã –¥–ª—è Amazon
‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ venv/                      # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```

## üéØ –ì–æ—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### 1. product_parser.py

–û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º —Ä–µ–∂–∏–º–æ–º

```bash
python product_parser.py
```

### 2. amazon_advanced.py

–ü–∞—Ä—Å–µ—Ä Amazon —Å –æ–±—Ö–æ–¥–æ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

```bash
python amazon_advanced.py
```

### 3. quick_export.py

–ë—ã—Å—Ç—Ä—ã–π —ç–∫—Å–ø–æ—Ä—Ç –≤ Excel

```bash
python quick_export.py
```

### 4. export_improved.py

–£–ª—É—á—à–µ–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```bash
python export_improved.py
```

### 5. final_report.py

–°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–¥–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞

```bash
python final_report.py
```

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ü–∞—Ä—Å–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Å–∫—Ä–∏–ø—Ç –∏ –Ω–∞—á–Ω–∏—Ç–µ –ø–∞—Ä—Å–∏–Ω–≥!

### –î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö:

1. `python quick_export.py` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
2. `python amazon_advanced.py` - –ø–∞—Ä—Å–∏–Ω–≥ Amazon

### –î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö:

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `CustomSiteParser` –ø–æ–¥ –≤–∞—à —Å–∞–π—Ç
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã
3. –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

### –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

1. –°–æ–∑–¥–∞–π—Ç–µ cron –∑–∞–¥–∞—á—É
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å `headless=False` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ DevTools
4. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ URL

---

**–£–¥–∞—á–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞! üéâ**
# pyton-parser
